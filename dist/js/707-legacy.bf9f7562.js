(self["webpackChunkvendedores"]=self["webpackChunkvendedores"]||[]).push([[707],{4048:function(e,r,t){var s=t(2109);s({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},7707:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("v-container",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:"",height:"50"}},[s("div",{staticClass:"d-flex align-center"},[s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Pict Picker Logo",contain:"",src:t(6806),transition:"scale-transition",width:"40"}})],1),s("h2",{staticClass:"main-header",staticStyle:{color:"white","margin-left":"5px","margin-top":"10px"}},[e._v(" Pic Picker ")]),s("v-spacer"),s("div",{staticStyle:{margin:"10px",cursor:"pointer"},on:{click:e.userClick}},[e._v(" "+e._s(e.currentUser.id)+" ")]),s("tooltip",{attrs:{text:"Your score"}},[s("v-chip",{attrs:{disabled:"..."===e.score,small:"",color:e.scoreColor}},[e._v(e._s("..."===e.score?"...":e.score+"/20"))])],1),s("tooltip",{attrs:{text:"Your proposals"}},[s("v-badge",{attrs:{color:"green",content:e.proposals,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""}},[e._v("mdi-image")])],1)],1),s("tooltip",{attrs:{text:"Sellers on the race"}},[s("v-badge",{attrs:{color:"green",content:e.sellersLength,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:function(r){e.scoreDialog=!0}}},[e._v("mdi-account-tie")])],1)],1),s("tooltip",{attrs:{text:"Go back"}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:e.goBack}},[e._v("mdi-keyboard-backspace")])],1),s("logout",[s("v-icon",[e._v("mdi-logout")])],1)],1),s("router-view"),s("v-dialog",{model:{value:e.scoreDialog,callback:function(r){e.scoreDialog=r},expression:"scoreDialog"}},[s("scores",{attrs:{user:e.currentRaceUserInfo,myId:e.currentUser.id}})],1)],1)},o=[],n=t(4367),c=(t(9720),t(4048),t(9653),t(5194)),a=t(1618),i=t(5321),l=t(629),u=t(5418),h=t(4013),p={components:{Logout:c.Z,Tooltip:u.Z,Scores:h.Z},data:function(){return{scoreDialog:!1}},computed:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,l.rn)("common",["currentUser"])),(0,l.rn)("seller",["currentRaceUserInfo"])),{},{showLogout:function(){return"/seller"===this.$router.currentRoute.fullPath},sellersLength:function(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?Object.entries(this.currentRaceUserInfo.sellers).length:"?"},proposals:function(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id].proposals:"?"},score:function(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id].score:"..."},scoreColor:function(){return"..."===this.score?"grey":this.score>10?"green":this.score>5?"yellow darken-3":"red"}}),mounted:function(){this.syncRace()},methods:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,l.nv)("seller",["setCurrentRace"])),(0,l.nv)("seller",["setCurrentRaceUserInfo"])),{},{goBack:function(){this.$router.back()},userClick:function(){"/seller"!==this.$router.currentRoute.fullPath&&this.$router.push("/seller")},syncRace:function(){var e=this,r=(0,i.JU)(a.ZP,"/users",""+this.currentUser.raceUser);(0,i.cf)(r,(function(r){console.log("Current user change detected"),console.log({data:r.data()});try{var t=r.data();if(!t)return;var s=t.race;s||(s=[]),e.setCurrentRaceUserInfo(t)}catch(o){e.$toast.error(o.message),e.setCurrentRace(null)}}))}}),watch:{score:function(e,r){Number.isNaN(e)||Number.isNaN(r)||e>r&&this.$toast.success("You've won ".concat(e-r," points"))}}},d=p,f=t(1001),g=t(3453),v=t.n(g),m=t(3343),k=t(3099),U=t(5424),R=t(9846),Z=t(6662),C=t(6428),I=t(7047),b=t(9762),x=(0,f.Z)(d,s,o,!1,null,null,null),y=x.exports;v()(x,{VAppBar:m.Z,VBadge:k.Z,VChip:U.Z,VContainer:R.Z,VDialog:Z.Z,VIcon:C.Z,VImg:I.Z,VSpacer:b.Z})}}]);
//# sourceMappingURL=707-legacy.bf9f7562.js.map