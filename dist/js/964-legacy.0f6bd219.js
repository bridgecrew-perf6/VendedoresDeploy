(self["webpackChunkvendedores"]=self["webpackChunkvendedores"]||[]).push([[964],{4048:function(t,e,r){var s=r(2109);s({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},3099:function(t,e,r){"use strict";r.d(e,{Z:function(){return p}});var s=r(3274),o=r(4367),n=(r(9653),r(6428)),i=r(6952),a=r(8085),c=r(2936),l=r(6591),u=r(3536),h=r(3325),d=r(4589),f=["aria-atomic","aria-label","aria-live","role","title"],p=(0,h.Z)(i.Z,(0,u.d)(["left","bottom"]),a.Z,c.Z,l.Z).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return(0,o.Z)({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat((0,d.kb)(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),r=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),s=this.$createElement("span",r,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[s]):s},genBadgeContent:function(){if(!this.dot){var t=(0,d.z9)(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(n.Z,this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],r=[(0,d.z9)(this)],o=this.$attrs,n=(o["aria-atomic"],o["aria-label"],o["aria-live"],o.role,o.title,(0,s.Z)(o,f));return this.inline&&this.left?r.unshift(e):r.push(e),t("span",{staticClass:"v-badge",attrs:n,class:this.classes},r)}})},1485:function(t,e,r){"use strict";r.d(e,{bo:function(){return s},Z6:function(){return o},Zd:function(){return n},hS:function(){return i}});var s="https://picpicker.alwaysdata.net/alegra/api/v1",o="https://picpicker.alwaysdata.net/serpapi",n=2,i=20},4103:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return B}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:"",height:"50"}},[s("div",{staticClass:"d-flex align-center"},[s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Pict Picker Logo",contain:"",src:r(6806),transition:"scale-transition",width:"40"}})],1),s("h2",{staticClass:"main-header",staticStyle:{color:"white","margin-left":"5px","margin-top":"10px"}},[t._v(" Pic Picker ")]),s("v-spacer"),s("div",{staticStyle:{margin:"10px",cursor:"pointer"},on:{click:t.userClick}},[t._v(" "+t._s(t.currentUser.id)+" ")]),s("tooltip",{attrs:{text:"Your score"}},[s("v-chip",{attrs:{disabled:"..."===t.score,small:"",color:t.scoreColor}},[t._v(t._s("..."===t.score?"...":t.score+"/20"))])],1),s("tooltip",{attrs:{text:"Your proposals"}},[s("v-badge",{attrs:{color:"green",content:t.proposals,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""}},[t._v("mdi-image")])],1)],1),s("tooltip",{attrs:{text:"Sellers on the race"}},[s("v-badge",{attrs:{color:"green",content:t.sellersLength,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:function(e){t.scoreDialog=!0}}},[t._v("mdi-account-tie")])],1)],1),s("tooltip",{attrs:{text:"Go back"}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:t.goBack}},[t._v("mdi-keyboard-backspace")])],1),s("logout",[s("v-icon",[t._v("mdi-logout")])],1)],1),s("router-view"),s("v-dialog",{model:{value:t.scoreDialog,callback:function(e){t.scoreDialog=e},expression:"scoreDialog"}},[s("scores",{attrs:{sellers:t.currentRaceUserInfo?t.currentRaceUserInfo.sellers:[],myId:t.currentUser.id}})],1)],1)},o=[],n=r(4367),i=(r(9720),r(4048),r(9653),r(4848)),a=r(1618),c=r(5321),l=r(629),u=r(5418),h=r(9381),d={components:{Logout:i.Z,Tooltip:u.Z,Scores:h.Z},data:function(){return{scoreDialog:!1}},computed:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,l.rn)("common",["currentUser"])),(0,l.rn)("seller",["currentRaceUserInfo"])),{},{showLogout:function(){return"/seller"===this.$router.currentRoute.fullPath},sellersLength:function(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?Object.entries(this.currentRaceUserInfo.sellers).length||"0":"?"},proposals:function(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id]&&this.currentRaceUserInfo.sellers[this.currentUser.id].proposals||"0":"?"},score:function(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id]?this.currentRaceUserInfo.sellers[this.currentUser.id].score:"0":"..."},scoreColor:function(){return"..."===this.score?"grey":this.score>10?"green":this.score>5?"yellow darken-3":"red"}}),mounted:function(){this.syncRace()},methods:(0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},(0,l.nv)("common",["updateCurrentUser"])),(0,l.nv)("seller",["setCurrentRace"])),(0,l.nv)("seller",["setCurrentRaceUserInfo"])),{},{goBack:function(){this.$router.back()},userClick:function(){"/seller"!==this.$router.currentRoute.fullPath&&this.$router.push("/seller")},syncRace:function(){var t=this,e=(0,c.JU)(a.ZP,"/users",""+this.currentUser.raceUser);(0,c.cf)(e,(function(e){console.log("Current user change detected"),console.log({data:e.data()});try{var r=e.data();if(!r)return;var s=r.race;if(s||(s=[]),r.raceDone&&t.currentUser&&!t.currentUser.raceDone){var o=r.raceDone.winner===t.currentUser.id;t.$toast[o?"success":"error"]("Race is over. You "+(o?"won!!":"loose")),t.updateCurrentUser({raceDone:r.raceDone}),(0,a.Nq)(t.currentUser.id,{raceDone:r.raceDone}),t.$router.push("/race-done")}t.setCurrentRaceUserInfo(r)}catch(n){t.$toast.error(n.message),t.setCurrentRace(null)}}))}}),watch:{score:function(t,e){var r=t-e;Number.isNaN(r)||t>e&&this.$toast.success("You've won ".concat(r," points"))}}},f=d,p=r(1001),g=r(3453),v=r.n(g),m=r(3343),b=r(3099),U=r(5424),Z=r(9846),k=r(6662),R=r(6428),y=r(7047),C=r(9762),$=(0,p.Z)(f,s,o,!1,null,null,null),B=$.exports;v()($,{VAppBar:m.Z,VBadge:b.Z,VChip:U.Z,VContainer:Z.Z,VDialog:k.Z,VIcon:R.Z,VImg:y.Z,VSpacer:C.Z})}}]);
//# sourceMappingURL=964-legacy.0f6bd219.js.map