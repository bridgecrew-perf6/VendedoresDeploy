"use strict";(self["webpackChunkvendedores"]=self["webpackChunkvendedores"]||[]).push([[122],{3099:function(t,e,s){s.d(e,{Z:function(){return h}});var r=s(6428),i=s(6952),o=s(8085),n=s(2936),a=s(6591),l=s(3536),c=s(3325),d=s(4589),h=(0,c.Z)(i.Z,(0,l.d)(["left","bottom"]),o.Z,n.Z,a.Z).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes(){return{"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile,...this.themeClasses}},computedBottom(){return this.bottom?"auto":this.computedYOffset},computedLeft(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop(){return this.bottom?this.computedYOffset:"auto"},computedXOffset(){return this.calcPosition(this.offsetX)},computedYOffset(){return this.calcPosition(this.offsetY)},isRtl(){return this.$vuetify.rtl},offset(){return this.overlap?this.dot?8:12:this.dot?2:4},styles(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition(t){return`calc(100% - ${(0,d.kb)(t||this.offset)})`},genBadge(){const t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),s=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),r=this.$createElement("span",s,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[r]):r},genBadgeContent(){if(this.dot)return;const t=(0,d.z9)(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(r.Z,this.icon):void 0)},genBadgeWrapper(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render(t){const e=[this.genBadgeWrapper()],s=[(0,d.z9)(this)],{"aria-atomic":r,"aria-label":i,"aria-live":o,role:n,title:a,...l}=this.$attrs;return this.inline&&this.left?s.unshift(e):s.push(e),t("span",{staticClass:"v-badge",attrs:l,class:this.classes},s)}})},3237:function(t,e,s){s.d(e,{Z:function(){return a}});var r=s(5648),i=s(4981),o=s(6505),n=s(3325),a=(0,n.Z)(i.Z,o.Z,r.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...r.Z.options.computed.classes.call(this)}},styles(){const t={...r.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=i.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},7118:function(t,e,s){s.d(e,{h7:function(){return o},ZB:function(){return a},EB:function(){return l}});var r=s(3237),i=s(4589);const o=(0,i.Ji)("v-card__actions"),n=(0,i.Ji)("v-card__subtitle"),a=(0,i.Ji)("v-card__text"),l=(0,i.Ji)("v-card__title");r.Z},9762:function(t,e,s){s(8582);var r=s(4589);e["Z"]=(0,r.Ji)("spacer","div","v-spacer")},4981:function(t,e,s){var r=s(144),i=s(7420);e["Z"]=r.Z.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(i.Z,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},6591:function(t,e,s){var r=s(144);e["Z"]=r.Z.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},6640:function(t,e,s){s.d(e,{yo:function(){return n},if:function(){return a}});s(1703);var r=s(1618),i=s(5321),o=s(7376);async function n(t){const e=(0,i.JU)(r.ZP,"/users",""+o.Z.state.common.currentUser.id);await(0,i.r7)(e,{raceUser:t})}async function a(t,e){console.log({selectionIndex:t,pict:e});const s=o.Z.state.common.currentUser.id,n=(0,i.JU)(r.ZP,"/users",""+o.Z.state.common.currentUser.raceUser);let a=o.Z.state.seller.currentRace;if(a[t].pictures||(a[t].pictures={}),a[t].pictLinks||(a[t].pictLinks={}),a[t].pictLinks[e.original])throw new Error("Alreaady taken");let l=1,c=a[t].pictures[s];c&&(delete a[t].pictLinks[c.original],l=0),a[t].pictures[s]=e,a[t].pictLinks[e.original]=e,console.log({newRaceInfo:a});let d=o.Z.state.seller.currentRaceUserInfo;d.sellers||(d.sellers={}),d.sellers[o.Z.state.common.currentUser.id]?d.sellers[o.Z.state.common.currentUser.id].proposals+=l:d.sellers[o.Z.state.common.currentUser.id]={proposals:l,score:0},await(0,i.r7)(n,{...d,race:a})}},8199:function(t,e,s){s.r(e),s.d(e,{default:function(){return X}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.currentRace?s("div",[s("v-row",{attrs:{dense:""}},t._l(t.currentRaceSorted,(function(t,e){return s("v-col",{key:e},[s("selection-card",{attrs:{selection:t,index:+t.index}})],1)})),1)],1):s("loading")],1)},i=[],o=s(920),n=s(629),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{class:"all-card "+(t.selection.selected?"selected-card":"selection-card"),attrs:{"min-width":"300px","max-width":"300px",elevation:"5"},on:{click:t.openSelection}},[s("v-card-title",{staticStyle:{padding:"20px"}},[s("v-row",[t.done?s("v-icon",{attrs:{outlined:"",color:"green"}},[t._v("mdi-check")]):t._e(),s("div",[t._v(t._s(t.selection.word))]),s("v-spacer"),t.selection.selected?s("div",{staticClass:"winner-info"},[t._v("by "+t._s(t.selectionWinner))]):s("v-badge",{attrs:{color:t.renderColor,content:t.picturesLength||"0"}},[s("v-icon",[t._v(" mdi-image ")])],1)],1)],1),s("v-card-text",[t.selection.selected?s("v-img",{attrs:{src:t.selection.selected.thumbnail,"lazy-src":t.selection.selected.thumbnail,contain:"","max-height":"100px","min-height":"100px"}},[s("template",{slot:"placeholder"},[s("img-placeholder")],1)],2):t.done?s("v-img",{attrs:{src:t.myPicture.thumbnail,"lazy-src":t.myPicture.thumbnail,contain:"","max-height":"100px","min-height":"100px"}},[s("template",{slot:"placeholder"},[s("img-placeholder")],1)],2):t.picturesLength?s("div",[s("v-carousel",{attrs:{"hide-delimiters":"","show-arrows-on-hover":"",cycle:"",interval:t.slideInterval,"hide-delimiter-background":"",height:"100px"}},t._l(t.selection.pictures,(function(t,e){return s("div",{key:e,attrs:{text:t.title}},[s("v-carousel-item",[s("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[s("v-img",{staticClass:"my-3",attrs:{contain:"",src:t.thumbnail,"lazy-src":t.thumbnail,"max-height":"100%","min-height":"100%"}},[s("template",{slot:"placeholder"},[s("img-placeholder")],1)],2)],1)],1)],1)})),0)],1):s("v-alert",{attrs:{type:"success"}},[t._v("Awaiting proposals!!")])],1)],1)},l=[],c=s(7873),d={components:{ImgPlaceholder:c.Z},props:{selection:Object,index:{type:Number,requied:!0}},methods:{openSelection(){this.$router.push("/seller/selection/"+(this.index+1))}},computed:{...(0,n.rn)("common",["currentUser"]),picturesLength(){return Object.entries(this.selection.pictures).length},slideInterval(){return 1300+400*Math.random()},done(){return Boolean(this.selection.pictures[this.currentUser.id])},myPicture(){return this.selection.pictures[this.currentUser.id]},renderColor(){return Object.entries(this.selection.pictures).length<5?"green":Object.entries(this.selection.pictures).length<15?"yellow darken-2":"red"},selectionWinner(){let t=this.selection&&this.selection.selected.user;return t===this.currentUser.id?"YOU":t}}},h=d,u=s(1001),p=s(3453),m=s.n(p),g=s(5648),v=s(8119),f=s(172),b=s(2936),y=s(8085),Z=s(6591),_=s(3325),B=s(1824),$=(0,_.Z)(g.Z,b.Z,Z.Z).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(v.Z,{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(f.Z,{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(f.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...g.Z.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t[`v-alert--border-${this.border}`]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||y.Z.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,B.fK)("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),C=s(3099),x=s(3237),w=s(7118),S=s(7426),k=s(4062),R=s(6428),U=s(7047),E=s(2877),I=s(9762),O=(0,u.Z)(h,a,l,!1,null,null,null),A=O.exports;m()(O,{VAlert:$,VBadge:C.Z,VCard:x.Z,VCardText:w.ZB,VCardTitle:w.EB,VCarousel:S.Z,VCarouselItem:k.Z,VIcon:R.Z,VImg:U.Z,VRow:E.Z,VSpacer:I.Z});var L=s(6640),P=s(5418),V={components:{SelectionCard:A,Loading:o.Z,Tooltip:P.Z},computed:{...(0,n.rn)("seller",["currentRace"]),...(0,n.rn)("common",["currentUser"]),currentRaceSorted(){if(Array.isArray(this.currentRace))return this.currentRace&&this.currentRace.map(((t,e)=>({...t,index:e}))).sort(((t,e)=>Boolean(t.selected)-+Boolean(e.selected)||Boolean(t.pictures[this.currentUser.id])-+Boolean(e.pictures[this.currentUser.id])||+Object.entries(t.pictures).length-+Object.entries(e.pictures).length))}},data(){return{word:"",loading:!1}},methods:{async addSelection(){this.word||this.$toast.error("Word must not be void");try{return await(0,L.createSelection)(this.word),this.$toast.success(`Added ${this.word} quest`),this.word="",!0}catch(t){return this.$toast.error(t.message),!1}},async addAndMove2Selection(){this.loading=!0,await this.addSelection()&&this.$router.push("/seller/selection/"+this.currentRace.length),this.loading=!1}}},T=V,j=s(2102),J=s(9846),W=(0,u.Z)(T,r,i,!1,null,null,null),X=W.exports;m()(W,{VCol:j.Z,VContainer:J.Z,VRow:E.Z})}}]);
//# sourceMappingURL=122.d0b5cd24.js.map