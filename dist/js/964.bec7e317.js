"use strict";(self["webpackChunkvendedores"]=self["webpackChunkvendedores"]||[]).push([[964],{3099:function(t,e,r){r.d(e,{Z:function(){return h}});var s=r(6428),o=r(6952),i=r(8085),a=r(2936),n=r(6591),c=r(3536),l=r(3325),u=r(4589),h=(0,l.Z)(o.Z,(0,c.d)(["left","bottom"]),i.Z,a.Z,n.Z).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes(){return{"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile,...this.themeClasses}},computedBottom(){return this.bottom?"auto":this.computedYOffset},computedLeft(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop(){return this.bottom?this.computedYOffset:"auto"},computedXOffset(){return this.calcPosition(this.offsetX)},computedYOffset(){return this.calcPosition(this.offsetY)},isRtl(){return this.$vuetify.rtl},offset(){return this.overlap?this.dot?8:12:this.dot?2:4},styles(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition(t){return`calc(100% - ${(0,u.kb)(t||this.offset)})`},genBadge(){const t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),r=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),s=this.$createElement("span",r,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[s]):s},genBadgeContent(){if(this.dot)return;const t=(0,u.z9)(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(s.Z,this.icon):void 0)},genBadgeWrapper(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render(t){const e=[this.genBadgeWrapper()],r=[(0,u.z9)(this)],{"aria-atomic":s,"aria-label":o,"aria-live":i,role:a,title:n,...c}=this.$attrs;return this.inline&&this.left?r.unshift(e):r.push(e),t("span",{staticClass:"v-badge",attrs:c,class:this.classes},r)}})},1485:function(t,e,r){r.d(e,{bo:function(){return s},Z6:function(){return o},Zd:function(){return i},hS:function(){return a}});const s="https://picpicker.alwaysdata.net/alegra/api/v1",o="https://picpicker.alwaysdata.net/serpapi",i=2,a=20},4103:function(t,e,r){r.r(e),r.d(e,{default:function(){return Z}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:"",height:"50"}},[s("div",{staticClass:"d-flex align-center"},[s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Pict Picker Logo",contain:"",src:r(8509),transition:"scale-transition",width:"40"}})],1),s("h2",{staticClass:"main-header",staticStyle:{color:"white","margin-left":"5px","margin-top":"10px"}},[t._v(" Pic Picker ")]),s("v-spacer"),s("div",{staticStyle:{margin:"10px",cursor:"pointer"},on:{click:t.userClick}},[t._v(" "+t._s(t.currentUser.id)+" ")]),s("tooltip",{attrs:{text:"Your score"}},[s("v-chip",{attrs:{disabled:"..."===t.score,small:"",color:t.scoreColor}},[t._v(t._s("..."===t.score?"...":t.score+"/20"))])],1),s("tooltip",{attrs:{text:"Your proposals"}},[s("v-badge",{attrs:{color:"green",content:t.proposals,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""}},[t._v("mdi-image")])],1)],1),s("tooltip",{attrs:{text:"Sellers on the race"}},[s("v-badge",{attrs:{color:"green",content:t.sellersLength,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:function(e){t.scoreDialog=!0}}},[t._v("mdi-account-tie")])],1)],1),s("tooltip",{attrs:{text:"Go back"}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:t.goBack}},[t._v("mdi-keyboard-backspace")])],1),s("logout",[s("v-icon",[t._v("mdi-logout")])],1)],1),s("router-view"),s("v-dialog",{model:{value:t.scoreDialog,callback:function(e){t.scoreDialog=e},expression:"scoreDialog"}},[s("scores",{attrs:{sellers:t.currentRaceUserInfo?t.currentRaceUserInfo.sellers:[],myId:t.currentUser.id}})],1)],1)},o=[],i=r(4848),a=r(1618),n=r(5321),c=r(629),l=r(5418),u=r(9381),h={components:{Logout:i.Z,Tooltip:l.Z,Scores:u.Z},data(){return{scoreDialog:!1}},computed:{...(0,c.rn)("common",["currentUser"]),...(0,c.rn)("seller",["currentRaceUserInfo"]),showLogout(){return"/seller"===this.$router.currentRoute.fullPath},sellersLength(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?Object.entries(this.currentRaceUserInfo.sellers).length||"0":"?"},proposals(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id]&&this.currentRaceUserInfo.sellers[this.currentUser.id].proposals||"0":"?"},score(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id]?this.currentRaceUserInfo.sellers[this.currentUser.id].score:"0":"..."},scoreColor(){return"..."===this.score?"grey":this.score>10?"green":this.score>5?"yellow darken-3":"red"}},mounted(){this.syncRace()},methods:{...(0,c.nv)("common",["updateCurrentUser"]),...(0,c.nv)("seller",["setCurrentRace"]),...(0,c.nv)("seller",["setCurrentRaceUserInfo"]),goBack(){this.$router.back()},userClick(){"/seller"!==this.$router.currentRoute.fullPath&&this.$router.push("/seller")},syncRace(){const t=(0,n.JU)(a.ZP,"/users",""+this.currentUser.raceUser);(0,n.cf)(t,(t=>{console.log("Current user change detected"),console.log({data:t.data()});try{let e=t.data();if(!e)return;let r=e.race;if(r||(r=[]),e.raceDone&&this.currentUser&&!this.currentUser.raceDone){let t=e.raceDone.winner===this.currentUser.id;this.$toast[t?"success":"error"]("Race is over. You "+(t?"won!!":"loose")),this.updateCurrentUser({raceDone:e.raceDone}),(0,a.Nq)(this.currentUser.id,{raceDone:e.raceDone}),this.$router.push("/race-done")}this.setCurrentRaceUserInfo(e)}catch(e){this.$toast.error(e.message),this.setCurrentRace(null)}}))}},watch:{score(t,e){let r=t-e;Number.isNaN(r)||t>e&&this.$toast.success(`You've won ${r} points`)}}},d=h,p=r(1001),f=r(3453),g=r.n(f),m=r(3343),v=r(3099),b=r(5424),U=r(9846),k=r(6662),R=r(6428),y=r(7047),C=r(9762),$=(0,p.Z)(d,s,o,!1,null,null,null),Z=$.exports;g()($,{VAppBar:m.Z,VBadge:v.Z,VChip:b.Z,VContainer:U.Z,VDialog:k.Z,VIcon:R.Z,VImg:y.Z,VSpacer:C.Z})}}]);
//# sourceMappingURL=964.bec7e317.js.map