"use strict";(self["webpackChunkvendedores"]=self["webpackChunkvendedores"]||[]).push([[707],{7707:function(e,r,t){t.r(r),t.d(r,{default:function(){return y}});var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("v-container",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:"",height:"50"}},[s("div",{staticClass:"d-flex align-center"},[s("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Pict Picker Logo",contain:"",src:t(8509),transition:"scale-transition",width:"40"}})],1),s("h2",{staticClass:"main-header",staticStyle:{color:"white","margin-left":"5px","margin-top":"10px"}},[e._v(" Pic Picker ")]),s("v-spacer"),s("div",{staticStyle:{margin:"10px",cursor:"pointer"},on:{click:e.userClick}},[e._v(" "+e._s(e.currentUser.id)+" ")]),s("tooltip",{attrs:{text:"Your score"}},[s("v-chip",{attrs:{disabled:"..."===e.score,small:"",color:e.scoreColor}},[e._v(e._s("..."===e.score?"...":e.score+"/20"))])],1),s("tooltip",{attrs:{text:"Your proposals"}},[s("v-badge",{attrs:{color:"green",content:e.proposals,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""}},[e._v("mdi-image")])],1)],1),s("tooltip",{attrs:{text:"Sellers on the race"}},[s("v-badge",{attrs:{color:"green",content:e.sellersLength,overlap:""}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:function(r){e.scoreDialog=!0}}},[e._v("mdi-account-tie")])],1)],1),s("tooltip",{attrs:{text:"Go back"}},[s("v-icon",{staticStyle:{margin:"5px",cursor:"pointer"},attrs:{dark:""},on:{click:e.goBack}},[e._v("mdi-keyboard-backspace")])],1),s("logout",[s("v-icon",[e._v("mdi-logout")])],1)],1),s("router-view"),s("v-dialog",{model:{value:e.scoreDialog,callback:function(r){e.scoreDialog=r},expression:"scoreDialog"}},[s("scores",{attrs:{user:e.currentRaceUserInfo,myId:e.currentUser.id}})],1)],1)},o=[],c=t(5194),n=t(1618),a=t(5321),i=t(629),l=t(5418),u=t(4013),h={components:{Logout:c.Z,Tooltip:l.Z,Scores:u.Z},data(){return{scoreDialog:!1}},computed:{...(0,i.rn)("common",["currentUser"]),...(0,i.rn)("seller",["currentRaceUserInfo"]),showLogout(){return"/seller"===this.$router.currentRoute.fullPath},sellersLength(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?Object.entries(this.currentRaceUserInfo.sellers).length:"?"},proposals(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id].proposals:"?"},score(){return this.currentRaceUserInfo&&this.currentRaceUserInfo.sellers?this.currentRaceUserInfo.sellers[this.currentUser.id].score:"..."},scoreColor(){return"..."===this.score?"grey":this.score>10?"green":this.score>5?"yellow darken-3":"red"}},mounted(){this.syncRace()},methods:{...(0,i.nv)("seller",["setCurrentRace"]),...(0,i.nv)("seller",["setCurrentRaceUserInfo"]),goBack(){this.$router.back()},userClick(){"/seller"!==this.$router.currentRoute.fullPath&&this.$router.push("/seller")},syncRace(){const e=(0,a.JU)(n.ZP,"/users",""+this.currentUser.raceUser);(0,a.cf)(e,(e=>{console.log("Current user change detected"),console.log({data:e.data()});try{let r=e.data();if(!r)return;let t=r.race;t||(t=[]),this.setCurrentRaceUserInfo(r)}catch(r){this.$toast.error(r.message),this.setCurrentRace(null)}}))}},watch:{score(e,r){Number.isNaN(e)||Number.isNaN(r)||e>r&&this.$toast.success(`You've won ${e-r} points`)}}},p=h,d=t(1001),g=t(3453),v=t.n(g),m=t(3343),f=t(3099),k=t(5424),U=t(9846),R=t(6662),C=t(6428),I=t(7047),b=t(9762),x=(0,d.Z)(p,s,o,!1,null,null,null),y=x.exports;v()(x,{VAppBar:m.Z,VBadge:f.Z,VChip:k.Z,VContainer:U.Z,VDialog:R.Z,VIcon:C.Z,VImg:I.Z,VSpacer:b.Z})}}]);
//# sourceMappingURL=707.d60bd23e.js.map