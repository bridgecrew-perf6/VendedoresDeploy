(self["webpackChunkvendedores"]=self["webpackChunkvendedores"]||[]).push([[122],{6790:function(t,e,r){"use strict";var i=r(7854),n=r(3157),s=r(6244),o=r(9974),a=i.TypeError,c=function(t,e,r,i,l,u,d,h){var p,f,m=l,v=0,g=!!d&&o(d,h);while(v<i){if(v in r){if(p=g?g(r[v],v,e):r[v],u>0&&n(p))f=s(p),m=c(t,e,p,f,m,u-1)-1;else{if(m>=9007199254740991)throw a("Exceed the acceptable array length");t[m]=p}m++}v++}return m};t.exports=c},4944:function(t,e,r){"use strict";var i=r(2109),n=r(6790),s=r(7908),o=r(6244),a=r(9303),c=r(5417);i({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),r=o(e),i=c(e,0);return i.length=n(i,e,e,r,0,void 0===t?1:a(t)),i}})},3792:function(t,e,r){var i=r(1223);i("flat")},3099:function(t,e,r){"use strict";r.d(e,{Z:function(){return f}});var i=r(3274),n=r(4367),s=(r(9653),r(6428)),o=r(6952),a=r(8085),c=r(2936),l=r(6591),u=r(3536),d=r(3325),h=r(4589),p=["aria-atomic","aria-label","aria-live","role","title"],f=(0,d.Z)(o.Z,(0,u.d)(["left","bottom"]),a.Z,c.Z,l.Z).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return(0,n.Z)({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat((0,h.kb)(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),r=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),i=this.$createElement("span",r,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[i]):i},genBadgeContent:function(){if(!this.dot){var t=(0,h.z9)(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(s.Z,this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],r=[(0,h.z9)(this)],n=this.$attrs,s=(n["aria-atomic"],n["aria-label"],n["aria-live"],n.role,n.title,(0,i.Z)(n,p));return this.inline&&this.left?r.unshift(e):r.push(e),t("span",{staticClass:"v-badge",attrs:s,class:this.classes},r)}})},3237:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var i=r(4367),n=(r(9653),r(4944),r(3792),r(5648)),s=r(4981),o=r(6505),a=r(3325),c=(0,a.Z)(s.Z,o.Z,n.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return(0,i.Z)((0,i.Z)({"v-card":!0},o.Z.options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},n.Z.options.computed.classes.call(this))},styles:function(){var t=(0,i.Z)({},n.Z.options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=s.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),r=e.tag,i=e.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(r,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},7118:function(t,e,r){"use strict";r.d(e,{h7:function(){return s},ZB:function(){return a},EB:function(){return c}});var i=r(3237),n=r(4589),s=(0,n.Ji)("v-card__actions"),o=(0,n.Ji)("v-card__subtitle"),a=(0,n.Ji)("v-card__text"),c=(0,n.Ji)("v-card__title");i.Z},9762:function(t,e,r){"use strict";r(8582);var i=r(4589);e["Z"]=(0,i.Ji)("spacer","div","v-spacer")},4981:function(t,e,r){"use strict";r(9653);var i=r(144),n=r(7420);e["Z"]=i.Z.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(n.Z,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},6591:function(t,e,r){"use strict";var i=r(144);e["Z"]=i.Z.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},6640:function(t,e,r){"use strict";r.d(e,{yo:function(){return c},if:function(){return u}});var i=r(4367),n=r(6198),s=(r(1703),r(5666),r(1618)),o=r(5321),a=r(7376);function c(t){return l.apply(this,arguments)}function l(){return l=(0,n.Z)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=(0,o.JU)(s.ZP,"/users",""+a.Z.state.common.currentUser.id),t.next=3,(0,o.r7)(r,{raceUser:e});case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t,e){return d.apply(this,arguments)}function d(){return d=(0,n.Z)(regeneratorRuntime.mark((function t(e,r){var n,c,l,u,d,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log({selectionIndex:e,pict:r}),n=a.Z.state.common.currentUser.id,c=(0,o.JU)(s.ZP,"/users",""+a.Z.state.common.currentUser.raceUser),l=a.Z.state.seller.currentRace,l[e].pictures||(l[e].pictures={}),l[e].pictLinks||(l[e].pictLinks={}),!l[e].pictLinks[r.original]){t.next=8;break}throw new Error("Alreaady taken");case 8:return u=1,d=l[e].pictures[n],d&&(delete l[e].pictLinks[d.original],u=0),l[e].pictures[n]=r,l[e].pictLinks[r.original]=r,console.log({newRaceInfo:l}),h=a.Z.state.seller.currentRaceUserInfo,h.sellers||(h.sellers={}),h.sellers[a.Z.state.common.currentUser.id]?h.sellers[a.Z.state.common.currentUser.id].proposals+=u:h.sellers[a.Z.state.common.currentUser.id]={proposals:u,score:0},t.next=19,(0,o.r7)(c,(0,i.Z)((0,i.Z)({},h),{},{race:l}));case 19:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}},8199:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return N}});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.currentRace?r("div",[r("v-row",{attrs:{dense:""}},t._l(t.currentRaceSorted,(function(t,e){return r("v-col",{key:e},[r("selection-card",{attrs:{selection:t,index:+t.index}})],1)})),1)],1):r("loading")],1)},n=[],s=r(6198),o=r(4367),a=(r(5666),r(2707),r(1249),r(9720),r(920)),c=r(629),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{class:"all-card "+(t.selection.selected?"selected-card":"selection-card"),attrs:{"min-width":"300px","max-width":"300px",elevation:"5"},on:{click:t.openSelection}},[r("v-card-title",{staticStyle:{padding:"20px"}},[r("v-row",[t.done?r("v-icon",{attrs:{outlined:"",color:"green"}},[t._v("mdi-check")]):t._e(),r("div",[t._v(t._s(t.selection.word))]),r("v-spacer"),t.selection.selected?r("div",{staticClass:"winner-info"},[t._v("by "+t._s(t.selectionWinner))]):r("v-badge",{attrs:{color:t.renderColor,content:t.picturesLength||"0"}},[r("v-icon",[t._v(" mdi-image ")])],1)],1)],1),r("v-card-text",[t.selection.selected?r("v-img",{attrs:{src:t.selection.selected.thumbnail,"lazy-src":t.selection.selected.thumbnail,contain:"","max-height":"100px","min-height":"100px"}},[r("template",{slot:"placeholder"},[r("img-placeholder")],1)],2):t.done?r("v-img",{attrs:{src:t.myPicture.thumbnail,"lazy-src":t.myPicture.thumbnail,contain:"","max-height":"100px","min-height":"100px"}},[r("template",{slot:"placeholder"},[r("img-placeholder")],1)],2):t.picturesLength?r("div",[r("v-carousel",{attrs:{"hide-delimiters":"","show-arrows-on-hover":"",cycle:"",interval:t.slideInterval,"hide-delimiter-background":"",height:"100px"}},t._l(t.selection.pictures,(function(t,e){return r("div",{key:e,attrs:{text:t.title}},[r("v-carousel-item",[r("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[r("v-img",{staticClass:"my-3",attrs:{contain:"",src:t.thumbnail,"lazy-src":t.thumbnail,"max-height":"100%","min-height":"100%"}},[r("template",{slot:"placeholder"},[r("img-placeholder")],1)],2)],1)],1)],1)})),0)],1):r("v-alert",{attrs:{type:"success"}},[t._v("Awaiting proposals!!")])],1)],1)},u=[],d=(r(9653),r(7873)),h={components:{ImgPlaceholder:d.Z},props:{selection:Object,index:{type:Number,requied:!0}},methods:{openSelection:function(){this.$router.push("/seller/selection/"+(this.index+1))}},computed:(0,o.Z)((0,o.Z)({},(0,c.rn)("common",["currentUser"])),{},{picturesLength:function(){return Object.entries(this.selection.pictures).length},slideInterval:function(){return 1300+400*Math.random()},done:function(){return Boolean(this.selection.pictures[this.currentUser.id])},myPicture:function(){return this.selection.pictures[this.currentUser.id]},renderColor:function(){return Object.entries(this.selection.pictures).length<5?"green":Object.entries(this.selection.pictures).length<15?"yellow darken-2":"red"},selectionWinner:function(){var t=this.selection&&this.selection.selected.user;return t===this.currentUser.id?"YOU":t}})},p=h,f=r(1001),m=r(3453),v=r.n(m),g=r(3796),b=(r(6699),r(5648)),Z=r(8119),y=r(172),_=r(2936),x=r(8085),B=r(6591),C=r(3325),w=r(1824),$=(0,C.Z)(b.Z,_.Z,B.Z).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:(0,g.Z)({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(Z.Z,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(y.Z,{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(y.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=(0,o.Z)((0,o.Z)({},b.Z.options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||x.Z.options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&(0,w.fK)("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),k=r(3099),S=r(3237),R=r(7118),E=r(7426),U=r(4062),I=r(6428),O=r(7047),A=r(2877),L=r(9762),P=(0,f.Z)(p,l,u,!1,null,null,null),V=P.exports;v()(P,{VAlert:$,VBadge:k.Z,VCard:S.Z,VCardText:R.ZB,VCardTitle:R.EB,VCarousel:E.Z,VCarouselItem:U.Z,VIcon:I.Z,VImg:O.Z,VRow:A.Z,VSpacer:L.Z});var T=r(6640),j=r(5418),J={components:{SelectionCard:V,Loading:a.Z,Tooltip:j.Z},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,c.rn)("seller",["currentRace"])),(0,c.rn)("common",["currentUser"])),{},{currentRaceSorted:function(){var t=this;if(Array.isArray(this.currentRace))return this.currentRace&&this.currentRace.map((function(t,e){return(0,o.Z)((0,o.Z)({},t),{},{index:e})})).sort((function(e,r){return Boolean(e.selected)-+Boolean(r.selected)||Boolean(e.pictures[t.currentUser.id])-+Boolean(r.pictures[t.currentUser.id])||+Object.entries(e.pictures).length-+Object.entries(r.pictures).length}))}}),data:function(){return{word:"",loading:!1}},methods:{addSelection:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.word||t.$toast.error("Word must not be void"),e.prev=1,e.next=4,(0,T.createSelection)(t.word);case 4:return t.$toast.success("Added ".concat(t.word," quest")),t.word="",e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](1),t.$toast.error(e.t0.message),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},addAndMove2Selection:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.addSelection();case 3:if(!e.sent){e.next=5;break}t.$router.push("/seller/selection/"+t.currentRace.length);case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}},W=J,X=r(2102),Y=r(9846),z=(0,f.Z)(W,i,n,!1,null,null,null),N=z.exports;v()(z,{VCol:X.Z,VContainer:Y.Z,VRow:A.Z})}}]);
//# sourceMappingURL=122-legacy.cc3b2d25.js.map